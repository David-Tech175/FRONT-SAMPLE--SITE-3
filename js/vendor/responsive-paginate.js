jQuery.fn.rPage=function(){var d=$(this);for(var b=0,a=d.length;b<a;b++){new c($(d[b]))}function c(f){this.label=function(){var g=this.els.filter(".active").index();var h=this;this.els.each(function(){if(h.isNextOrPrevLink($(this))==false){$(this).addClass("page-away-"+(Math.abs(g-$(this).index())).toString())}else{if($(this).index()>g){$(this).addClass("right-etc")}else{$(this).addClass("left-etc")}}})};this.makeResponsive=function(){this.reset();var g=this.calculateWidth();while(g>this.els.parent().parent().outerWidth()-10){var h=this.removeOne();if(h==false){break}g=this.calculateWidth()}};this.isNextOrPrevLink=function(g){if(g.text()=="»"||g.text()=="«"){return true}return false};this.isRemovable=function(h){if(this.isNextOrPrevLink(h)){return false}var g=this.els.filter(h).index();if(g==1||this.isNextOrPrevLink(f.find("li").eq(g+1))){return false}if(h.text()=="..."){return false}return true};this.removeOne=function(){var g=this.els.filter(".active").index();var l=f.find("li").length-1;var o=g+1;var h=g-1;for(var m=l-1;m>0;m--){var n=this.els.filter(".page-away-"+m.toString());var q=n.filter(function(){return this.style.display!="none"});if(q.length>0){for(var k=0;k<q.length;k++){var p=q.eq(k);if(this.isRemovable(p)){p.css("display","none");if(this.needsEtcSign(g,l-1)){this.els.eq(l-2).before("<li class='disabled removable'><span>...</span></li>")}if(this.needsEtcSign(1,g)){this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>")}return true}}}}return false};this.needsEtcSign=function(k,m){if(m-k<=1){return false}else{var g=false;var l=false;for(var h=k+1;h<m;h++){var j=f.find("li").eq(h);if(j.css("display")=="none"){l=true}if(j.text()=="..."){g=true}}if(l==true&&g==false){return true}}return false};this.reset=function(){for(var g=0;g<this.els.length;g++){this.els.eq(g).css("display","inline")}f.find("li").filter(".removable").remove()};this.calculateWidth=function(){var h=0;for(var g=0;g<f.find("li").length;g++){h+=f.find("li").eq(g).children("a").eq(0).outerWidth();h+=f.find("li").eq(g).children("span").eq(0).outerWidth()}return h};this.els=f.find("li");this.label();this.makeResponsive();var e;$(window).resize($.proxy(function(){clearTimeout(e);e=setTimeout($.proxy(function(){this.makeResponsive()},this),100)},this))}};